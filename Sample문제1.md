### **1.전자상거래 플랫폼 "ShopEase"**

ShopEase는 전 세계 200개국에서 서비스되고 있는 대규모 전자상거래 플랫폼입니다. 연말 세일 기간 동안 여러 기술적 문제가 발생하고 있습니다.

**문제 1.1: SQL 인젝션 방지**

**문제:** 다음 코드는 SQL 인젝션 공격에 취약합니다:

```sql
 string query = "SELECT * FROM users WHERE username  = '" + username + "' AND password = '" + password +  "'";  
```

**해결 방안:** Prepared Statements를 사용하여 SQL 인젝션을 방지. 준비된 문을 사용함으로써 사용자 입력 데이터와 SQL 쿼리를 분리하여 안전하게 처리할 수 있다.

```java  
String query = "SELECT * FROM users WHERE username  = ? AND password = ?";  PreparedStatement stmt = conn.prepareStatement(query);  stmt.setString(1, username);  stmt.setString(2, password);  ResultSet rs = stmt.executeQuery();  
```

 

**문제 1.2: 데이터 캐시 처리**

**문제:** 상품 상세 정보를 조회할 때마다 데이터베이스 조회가 이루어져 성능 지연 문제가 발생하고 있습니다. 이를 해결하는 방안을 제시하세요.

 

**해결 방안:** Redis와 같은 인메모리 캐시를 사용하여 자주 조회되는 상품 상세 정보를 캐시 처리.

1. 상품 상세 정보 조회 시 먼저 Redis에서 캐시를 검색.
2. Redis에 캐시가 없는 경우 데이터베이스에서 조회하고, 조회한 데이터를 Redis에 캐시.

**문제 1.3: 시스템 과부하 해결**

**문제:** 연말 세일 동안 서버가 과부하에 걸리고 있습니다. 이에 따라 MSA를 도입하여 해결하고자 합니다. 어떻게 해결 할 수 있는지 방안을 제시하세요.

**해결 방안:** MSA(Microservices Architecture)를 도입하여 시스템을 분리. 각 서비스를 독립적으로 배포하고 확장할 수 있도록 설계합니다.

1. 주요 모듈 (주문, 결제, 재고, 사용자 관리 등)을 각각의 마이크로서비스로 분리.
2. 각 마이크로서비스 간의 통신은 REST API 또는 메시지 큐(RabbitMQ) 등을 사용.
3. 독립적인 배포와 확장을 통해 특정 서비스의 부하가 전체 시스템에 영향을 주지 않도록 함.

**문제 1.4:** **동시성 문제 해결** **문제**

**문제:** 여러 사용자가 동시에 인기 상품의 주문으로 재고가 주러들때 재고 관리의 동시성 문제가 발생합니다.

**해결 방안:** 데이터를 안전하게 관리하기 위해 데이터베이스 행(row) 잠금을 사용하여 동시성을 제어합니다.

```tex
1. 구매 요청 시, 해당 상품의 재고를 데이터베이스에서 잠금
2. 재고 수량 감소 작업을 수행하고 데이터베이스에 반영.
3. 작업이 완료된 후 재고 잠금을 해제-
```



### **2.** **금융 서비스 플랫폼 "FinancePro"**

**상황:** FinancePro는 전 세계 150개국에서 다양한 금융 서비스를 제공하고 있습니다. 최근 대규모 금융 데이터 유출 사건이 발생했습니다.

**문제 2.1: 데이터 암호화**

**문제:** 중요한 금융 데이터를 AES256 방식으로 암호화하여 데이터베이스에 저장하고, 조회 시 복호화해야 합니다.

**해결 방안:** AES256 암호화를 적용하여 데이터를 안전하게 저장 및 조회.

1. 데이터 저장 시 AES256 알고리즘을 이용하여 데이터를 암호화.
2. 암호화된 데이터를 데이터베이스에 저장.
3. 데이터 조회 시 AES256 알고리즘을 이용하여 데이터를 복호화.
4. 암호화 키는 안전한 키 저장소에 보관.

**문제 2.2: 세션 만료 문제**

**문제:** 사용자 로그인 세션이 일정 시간 후 자동 로그아웃이 되도록 설정해야 합니다.

**해결 방안:** JWT 토큰 기반의 세션 관리를 사용하여 발행한 토큰에 만료 시간을 설정. 만료 시 새로운 토큰을 발행하는 방법을 설계.

1. 로그인 시 JWT 토큰을 생성하고, 만료 시간을 설정.
2. 클라이언트는 각 요청 시 JWT 토큰을 포함하여 전송.
3. 서버는 요청 시 토큰의 유효성을 확인하고 만료 시간을 체크.
4. 만료된 토큰이 요청될 경우 새로 로그인이 필요하도록 처리.

**문제 2.3: 대기열 처리**

**문제:** 거래 요청이 대량으로 발생하여 시스템의 실시간 처리 능력이 부족합니다. 대기열을 통해 거래 요청을 효율적으로 처리해야 합니다?

**해결 방안:** 메시지 큐 시스템을 사용하여 대기열을 처리.

1. 각 거래 요청을 메시지 큐(ex: Apache Kafka, RabbitMQ)에 넣음.
2. 비동기적으로 큐에서 메시지를 소비하여 거래를 처리.
3. 스케일링이 필요할 때 소비자 인스턴스를 추가로 늘려서 처리량을 조절.

 

### **3.** 의학 연구 데이터 플랫폼 "MediResearch”

MediResearch는 의학 연구 데이터를 관리, 분석하는 플랫폼입니다. 다양한 외부 의학 데이터를 수집하며, 최근 데이터 수집 프로세스에서 성능 문제와 오류가 발생하고 있습니다. 비동기 데이터 수집 시스템을 개선하고 서킷브레이커 패턴을 적용해야 하는 요구사항이 있습니다..

**문제 3.1:** **서킷브레이커를 통한 데이터 수집 API 호출 안정성 확보** **문제**

**문제:** 외부 의학 데이터 API 호출 중 자주 타임아웃과 실패가 발생하여 데이터 수집이 원활하지 않습니다.

**해결 방안:** 서킷브레이커 패턴을 적용하여 외부 데이터 수집 API 호출의 안정성을 높입니다.

```
1. 서킷브레이커 라이브러리를 사용하여 외부 데이터 수집 API 호출을 감싸는 서킷브레이커를 설정합니다.
2. 실패율이 일정 임계값을 초과하면 서킷브레이커가 열려 호출을 차단합니다.
3. 일정 시간 후 서킷브레이커가 닫혀 재시도합니다.
4. 호출 실패 시 대체(fallback) 동작을 정의합니다.
```

 

**문제 3.2:** **비동기 데이터 수집 처리** **문제**

**문제:** 의학 데이터를 수집하는 동안 데이터 처리 요청이 급증하여 서버가 과부하 상태입니다. 데이터를 비동기로 수집하여 처리하세요.

**해결 방안:** 메시지 큐를 사용하여 데이터를 비동기로 수집하고 처리합니다

```
1. 데이터 수집 요청이 들어오면 메시지 큐(예: RabbitMQ 또는 Kafka)에 데이터 수집 요청 메시지를 게시합니다.
2. 데이터 수집 작업을 수행하는 소비자가 메시지 큐에서 요청 메시지를 읽어 데이터를 수집합니다.
3. 수집된 데이터를 데이터베이스에 저장하고 로그를 기록합니다.
 
```



### 4. 모바일 플랫폼 "MobileConnect"

MobileConnect는 다양한 서비스를 제공하는 모바일 플랫폼입니다. 최근 사용자 메시지 기록이 급증하여 기존 관계형 데이터베이스로는 성능 저하와 저장공간 부족 문제가 자주 발생하고 있습니다.

#### 문제 4.1: 메시지 기록 데이터 저장 문제

**상황:** MobileConnect는 하루 수백만 건의 사용자 메시지를 처리하고 있으며, 이에 따라 메시지 저장 및 조회 시 성능 저하가 발생하고 있습니다. 또한, 메시지 데이터의 다양한 형태와 증가하는 데이터 양을 효율적으로 관리할 필요가 있습니다.

**문제:** 메시지 기록 데이터를 효율적으로 저장하고 빠르게 조회할 수 있는 새로운 데이터베이스 솔루션이 필요합니다.

**해결 방안:** NoSQL 데이터베이스를 도입하여 메시지 기록 데이터를 효율적으로 저장하고 조회 성능을 높입니다.

1. **NoSQL****의 필요성 평가:**

- **수평적      확장성:** NoSQL은 샤딩을 통해 수평적으로 확장 가능,      대규모 데이터 처리에 적합.
- **유연한      스키마:** 메시지      데이터의 다양한 형태에도 유연하게 대응 가능합니다.
- **고성능      쿼리:** 인덱스를      활용하여 메시지 조회 성능을 높일 수 있습니다.
- **NoSQL****과 관계형 데이터베이스의 차이:**

- **스키마      유연성:** NoSQL은 스키마가 유연하며, 데이터      구조 변화에 쉽게 대응 가능.
- **확장성:** NoSQL은 데이터 노드를 추가함으로써 쉽게 확장 가능, 관계형 데이터베이스는 수직적 확장이 더 일반적.
- **성능:** 읽기/쓰기 성능이 높아 대량의      데이터를 효율적으로 처리 가능.
- **일반적인 NoSQL 데이터베이스 사용 예시 및 데이터 모델링:**

- **도큐먼트      데이터베이스 (예: MongoDB):**
  - **사용 예시:** 각 메시지를 하나의 도큐먼트로 저장하여 사용자 간 메시지를 관리합니다.
  - **데이터 모델링:** 메시지 자체를 JSON 객체로       저장하고, 메타데이터(발신자, 수신자, 타임스탬프,       메시지 내용 등)를 포함.
- **컬럼      패밀리 데이터베이스 (예: Cassandra):**
  - **사용 예시:** 사용자별 메시지 기록을 컬럼 패밀리에 저장하여 사용자간 메시지 조회       성능을 높입니다.
  - **데이터 모델링:** 각 사용자 ID를 파티션       키로, 메시지 ID와 타임스탬프를 클러스터링       키로 사용하여 메시지 데이터를 저장.
- **도입 후 기대효과:**

- **성능      향상:** 대량의      메시지 데이터를 빠르게 저장 및 조회하여 사용자 경험 향상.
- **확장성      제공:** 사용자      증가에 따라 쉽게 데이터 노드를 추가하여 확장 가능.
- **유연성      증가:** 변화하는      메시지 데이터 구조에 빠르게 대응 가능.

#### **문제** 4.2: 대규모 로그 관리

**문제**: 시스템에서 생성되는 대규모 로그 데이터를 효율적으로 저장 및 관리해야 합니다. 기존 로그 서버가 빠르게 용량을 채우고 있습니다.

**해결** **방안**: 중앙화된 로그 관리 시스템을 구축하여 로그 데이터를 효율적으로 관리.

```
1. ELK 스택(Elasticsearch, Logstash, Kibana) 또는 Graylog 같은 중앙화된 로그 관리 시스템을 도입.
2. 로그 데이터를 실시간으로 수집하여 중앙화된 시스템으로 전송.
3. Kibana 또는 Graylog를 통해 실시간 로그 모니터링 및 분석 기능을 제공.
 
```



### **5.** **글로벌 전자상거래 플랫폼 "ShopWorld"**
 ShopWorld는 200개국 이상에서 서비스 중인 대규모 전자상거래 플랫폼입니다. 최근 5년간 연평균 성장률 40%를 기록하며 급격히 성장했습니다. 현재 일일 활성 사용자 수 1,000만 명, 월간 거래액 10억 달러를 돌파했습니다. 그러나 이러한 급격한 성장으로 인해 여러 기술적 문제가 발생하고 있습니다. 주요 이슈로는 주문 처리 지연, 결제 시스템 불안정, 제품 검색 속도 저하, 그리고 최근 발생한 개인정보 유출 사고 등이 있습니다. 특히 성수기인 연말 쇼핑 시즌에는 시스템 과부하로 인한 서비스 중단 사태가 반복되고 있어 사용자 불만이 고조되고 있는 상황입니다. 또한, 글로벌 서비스 특성상 다국어 지원, 다양한 통화 및 결제 시스템 연동, 국가별 규제 준수 등의 복잡한 요구사항을 만족시켜야 합니다. 현재 레거시 모놀리식 아키텍처를 사용 중이나, 이를 현대화하여 확장성과 유연성을 개선해야 한다는 내부 의견이 지배적입니다. 경영진은 이러한 문제들을 해결하고 향후 5년간 연 50% 성장을 목표로 하는 새로운 기술 전략 수립을 요구하고 있습니다.

**a)** **평가 목표: 데이터베이스 설계 및 최적화**
 **문제:** ShopWorld의 제품 카탈로그와 주문 정보를 효율적으로 관리하기 위한 데이터베이스 설계 전략을 수립하세요. 현재 단일 관계형 데이터베이스를 사용 중이나, 일일 1,000만 건 이상의 주문과 5억 개 이상의 제품 데이터를 처리하는 데 어려움을 겪고 있습니다. 특히 성수기에는 주문 처리 속도가 크게 저하되는 문제가 있습니다. 확장성, 성능, 데이터 일관성을 모두 고려한 새로운 데이터베이스 아키텍처를 제안하세요.

**요구사항:** 요구사항 추가에 따른 데이터베이스 설계, 테이블 파티션, 데이터 일관성 유지

**c)** **평가 목표: 대규모 트래픽 처리**
 **문제:** 지난 블랙 프라이데이 세일 기간 동안 평소 대비 10배 이상의 트래픽이 몰려 2시간 동안 서비스가 중단되는 사태가 발생했습니다. 이로 인해 추정 손실액이 5,000만 달러에 달합니다. 다가오는 연말 쇼핑 시즌에 예상되는 최대 초당 100만 건의 요청을 안정적으로 처리하고, 갑작스러운 트래픽 증가에도 유연하게 대응할 수 있는 시스템 아키텍처를 설계하세요. 글로벌 서비스임을 고려하여 지역별 특성도 반영해야 합니다.

**요구사항:** 대기열 처리



 

### **6.** **글로벌 음악 스트리밍 서비스 "TuneStream"**
 TuneStream은 전 세계 180개국에서 서비스 중인 음악 스트리밍 플랫폼입니다. 최근 5년간 연평균 성장률 30%를 기록하며, 현재 월간 활성 사용자는 8천만 명에 달합니다. 사용자는 실시간 스트리밍, 개인 맞춤형 추천 플레이리스트, 온/오프라인 매장 등 다양한 기능을 이용할 수 있습니다. 그러나 급격한 사용자 증가로 인해 스트리밍 / 주문처리 지연, 데이터베이스 성능 저하 문제 등이 발생하고 있습니다.

**a)** **평가 목표: 동시성 처리**
 **문제:** 선착순 10,000명에게만 음악 스트리밍 상품 구매시 50% 할인을 적용하려고 합니다. 모든 사용자가 동시에 상품을 구매하려고 할 때 발생할 수 있는 동시성 문제를 해결하는 시스템을 구성하세요.

**b)** **평가 목표: 서킷브레이커**
 **문제:** 원격서비스가 자주 타임아웃이 발생하여 오류가 발생합니다. 서비스의 정상적인 응답을 보장하기 위하여 방안을 제안하세요.

**c)** **평가 목표: 비동기처리**
 **문제:** 전반적인 시스템 처리 성능이 지연되어, 스트리밍 상품 외 배송 상품 주문처리 시 주문 완료 시간이 지연되고 있습니다. 이를 개선하기 위한 비동기 처리 방안을 구성하세요

 

 

 